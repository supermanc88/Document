" windowsä¸Šçš„é…ç½®

" [ åŸºæœ¬é…ç½®=============================================================

set nocompatible              " be iMproved, required
" filetype off                  " required
filetype plugin on						"	preservim/nerdcommenter éœ€è¦å¼€å¯
set encoding=utf-8
set enc=utf-8
set tabstop=4                 " è®¾ç½®åˆ¶è¡¨ç¬¦é•¿åº¦
set softtabstop=4             " è®¾ç½®è½¯åˆ¶è¡¨ç¬¦
set shiftwidth=4              " ç¼©è¿›é•¿åº¦
set number                    " æ‰“å¼€è¡Œå·
syntax enable				  "å¼€å¯è¯­æ³•é«˜äº®åŠŸèƒ½
syntax on
set t_Co=256				  "æŒ‡å®šé…è‰²æ–¹æ¡ˆä¸º256è‰²
" éœ€è¦é…åˆvimrc_example.vimæ³¨é‡Šä¸€äº›ä»£ç 
set nobackup				  "è¡¨ç¤ºä¸éœ€è¦å¤‡ä»½æ–‡ä»¶
set noswapfile				  "è¡¨ç¤ºä¸åˆ›å»ºä¸´æ—¶äº¤æ¢æ–‡ä»¶
set nowritebackup			  "è¡¨ç¤ºç¼–è¾‘çš„æ—¶å€™ä¸éœ€è¦å¤‡ä»½æ–‡ä»¶
set noundofile				  "è¡¨ç¤ºä¸åˆ›å»ºæ’¤é”€æ–‡ä»¶

" è®¾ç½®ä»£ç æŠ˜å ä¸ºæ‰‹åŠ¨
set foldmethod=manual
"æ‰“å¼€æ–‡ä»¶æ˜¯é»˜è®¤ä¸æŠ˜å ä»£ç 
set foldlevelstart=99


" åˆ é™¤menu bar
set guioptions-=m
" åˆ é™¤toolbar
set guioptions-=T
" åˆ é™¤scrollbar
set guioptions-=r
" åˆ é™¤å·¦è¾¹scrollbar
:set guioptions-=L

" åå­—å®šä½çº¿
set cursorline  
set cursorcolumn

highlight CursorLine cterm=none ctermbg=236  
highlight CursorColumn cterm=none ctermbg=236

if has("win32")
	source $VIMRUNTIME/delmenu.vim
	source $VIMRUNTIME/menu.vim
endif		


" å¯åŠ¨æœ€å¤§åŒ–
autocmd GUIEnter * simalt ~x

" åŸºæœ¬é…ç½®============================================================= ]


" vim-plug: Vim plugin manager
" ä¸‹è½½ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim æ–‡ä»¶åˆ°vimçš„autoloadç›®å½•
call plug#begin('$VIMRUNTIME/../plugged')

" è‡ªåŠ¨è¡¥å…¨ æ­¤æ’ä»¶å®‰è£…çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨ç¼–è¯‘
" https://github.com/ycm-core/YouCompleteMe
Plug 'Valloric/YouCompleteMe'   ",{'on':[]}			                 	
" augroup load_ycm
"     autocmd!
"     autocmd InsertEnter * call plug#load('YouCompleteMe') | autocmd! load_cmd
" augroup END

" nanotech/jellybeans.vim ä¸»é¢˜æ’ä»¶
" æ­¤æ’ä»¶ä¼˜ç‚¹æ˜¯å¯ä»¥é‡è½½è‡ªå®šä¹‰çš„é«˜äº®
" https://github.com/nanotech/jellybeans.vim
Plug 'nanotech/jellybeans.vim'

" jonathanfilip/vim-lucius ä¸»é¢˜æ’ä»¶
" https://github.com/jonathanfilip/vim-lucius
Plug 'jonathanfilip/vim-lucius'

" cormacrelf/vim-colors-github ä¸»é¢˜æ’ä»¶
" https://github.com/cormacrelf/vim-colors-github
Plug 'cormacrelf/vim-colors-github'

" tomasiser/vim-code-dark ä¸»é¢˜æ’ä»¶
" https://github.com/tomasiser/vim-code-dark
Plug 'tomasiser/vim-code-dark'

" dunstontc/vim-vscode-theme ä¸»é¢˜æ’ä»¶
" https://github.com/dunstontc/vim-vscode-theme
Plug 'dunstontc/vim-vscode-theme'

" altercation/vim-colors-solarized ä¸»é¢˜æ’ä»¶
" https://github.com/altercation/vim-colors-solarized
Plug 'altercation/vim-colors-solarized'

" luochen1990/rainbow å½©è™¹æ‹¬å·æ’ä»¶
" https://github.com/luochen1990/rainbow
Plug 'luochen1990/rainbow'

" Yggdroot/LeaderF æ¨¡ç³Šæœç´¢æ’ä»¶
" https://github.com/Yggdroot/LeaderF
Plug 'Yggdroot/LeaderF', { 'do': ':LeaderfInstallCExtension' }

" scrooloose/nerdcommenter æ³¨é‡Šæ’ä»¶
" https://github.com/preservim/nerdcommenter
Plug 'scrooloose/nerdcommenter'

" babaybus/DoxygenToolkit.vim å‡½æ•°æ³¨é‡Šæ’ä»¶
" https://github.com/babaybus/DoxygenToolkit.vim
Plug 'babaybus/DoxygenToolkit.vim'

" preservim/nerdtree ç›®å½•æ ‘æ’ä»¶
" https://github.com/preservim/nerdtree
Plug 'preservim/nerdtree'                    							" ç›®å½•æ ‘

" vim-airline/vim-airline çŠ¶æ€æ æ’ä»¶
" https://github.com/vim-airline/vim-airline
Plug 'vim-airline/vim-airline'                							" çŠ¶æ€æ 
Plug 'vim-airline/vim-airline-themes'												" çŠ¶æ€æ ä¸»é¢˜

" tpope/vim-fugitive gitæ’ä»¶
" https://github.com/tpope/vim-fugitive
Plug 'tpope/vim-fugitive'

" Plug 'plasticboy/vim-markdown'											" Vim markdownè¯­æ³•æ’ä»¶

" flazz/vim-colorschemes ä¸»é¢˜æ’ä»¶
" https://github.com/flazz/vim-colorschemes
Plug 'flazz/vim-colorschemes'

" Plug 'hzchirs/vim-material'												" materialä¸»é¢˜
" Plug 'ludovicchabant/vim-gutentags'										" gtagsè¾…åŠ©

" dense-analysis/ale åŠ¨æ€æ£€æŸ¥å·¥å…·
" https://github.com/dense-analysis/ale
Plug 'dense-analysis/ale'

call plug#end()

" æ·»åŠ  http://github.com/tpope/vim-unimpaired æ’ä»¶ ç”¨æ¥è¡¥å……ä¸€äº›æ˜ å°„

" Vimé¢„ç½®æœ‰å¾ˆå¤šå¿«æ·é”®ï¼Œå†åŠ ä¸Šå„ç±»æ’ä»¶çš„å¿«æ·é”®ï¼Œå¤§é‡å¿«æ·é”®å‡ºç°åœ¨å•å±‚ç©ºé—´ä¸­éš¾å…å¼•èµ·å†²çªã€‚ä¸ºç¼“è§£è¯¥é—®é¢˜ï¼Œè€Œå¼•å…¥äº†å‰ç¼€é”®<leader>ã€‚
" å‰ç¼€é”®é»˜è®¤ä¸ºâ€œ\â€ã€‚ç°ä¿®æ”¹ä¸ºç©ºæ ¼
let mapleader = "\<space>"

" [ cormacrelf/vim-colors-github ä¸»é¢˜æ’ä»¶ é…ç½®=============================================================

" cormacrelf/vim-colors-github ä¸»é¢˜æ’ä»¶ é…ç½®
" Place before the colorscheme github
" use a slightly darker background, like GitHub inline code blocks
" let g:github_colors_soft = 1
" use the dark theme / light
" set background=dark
" more blocky diff markers in signcolumn (e.g. GitGutter)
" let g:github_colors_block_diffmark = 0

" cormacrelf/vim-colors-github ä¸»é¢˜æ’ä»¶ é…ç½®============================================================= ]


" [ ä¸»é¢˜åŠairlineé…ç½®=============================================================

" colorscheme molokai
" colorscheme desert
" set background=light
" colorscheme vim-material
" colorscheme wombat
" colorscheme jellybeans													" æ¥è‡ªnanotech/jellybeans.vim
" colorscheme lucius														" æ¥è‡ªjonathanfilip/vim-lucius
colorscheme molokai																" æ¥è‡ªflazz/vim-colorschemes ä¸»é¢˜æ’ä»¶

let g:airline_theme='powerlineish'

" colorscheme github															" æ¥è‡ªcormacrelf/vim-colors-github
" let g:airline_theme='github'										" vim-colors-github ä¸»é¢˜æä¾›

" colorscheme codedark															" æ¥è‡ªtomasiser/vim-code-dark
" let g:airline_theme = 'codedark'									" æ¥è‡ªtomasiser/vim-code-dark

" colorscheme dark_plus															" æ¥è‡ªdunstontc/vim-vscode-theme
" let g:airline_theme = 'dark_plus'									" æ¥è‡ªdunstontc/vim-vscode-theme

" ä¸»é¢˜åŠairlineé…ç½®============================================================= ]


" jonathanfilip/vim-lucius ä¸»é¢˜æ’ä»¶ é…ç½®
" LuciusBlackHighContrast


" nanotech/jellybeans.vim ä¸»é¢˜æ’ä»¶ é…ç½®
" set guifont=Monaco:h10 noanti
" let g:jellybeans_use_gui_italics = 0									" æ”¯æŒæ–œä½“


" altercation/vim-colors-solarized ä¸»é¢˜æ’ä»¶ é…ç½®
" è“è‰²çš„ï¼Œæ²¡æƒ³è±¡ä¸­çš„å¥½çœ‹
" set background=dark
" colorscheme solarized


" luochen1990/rainbow å½©è™¹æ‹¬å·æ’ä»¶ é…ç½®
" è‡ªåŠ¨å¯ç”¨
let g:rainbow_active = 1


" [ dense-analysis/ale åŠ¨æ€æ£€æŸ¥å·¥å…· é…ç½®=============================================================

" dense-analysis/ale åŠ¨æ€æ£€æŸ¥å·¥å…· é…ç½®
" å…·ä½“é…ç½®è¯·å‚è€ƒï¼š https://github.com/dense-analysis/ale/tree/master/doc
" æŠ„è‡ª https://skywind3000.com/blog/archives/2084/

" ä½¿ç”¨clangå¯¹cå’Œc++è¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œå¯¹pythonä½¿ç”¨pylintè¿›è¡Œè¯­æ³•æ£€æŸ¥
" è®¾ç½®å¯¹åº”è¯­è¨€çš„linterçš„æ—¶å€™ï¼Œè¯·ç¡®è®¤å®‰è£…äº†
" cå’Œc++ç¯å¢ƒä¸‹é¢æ˜¯ç”¨çš„clangï¼Œéœ€è¦å®‰è£…clangæˆ–gccï¼Œé…ç½®åˆ°ç¯å¢ƒå˜é‡
" åœ¨å®‰è£…YCMåï¼Œclangdä¹Ÿè¢«å®‰è£…ï¼Œå¦‚æœé…ç½®åˆ°ç¯å¢ƒå˜é‡åï¼Œclangdçš„lsp
" ä¹Ÿä¼šè¢«å¯ç”¨ã€‚
let g:ale_linters = {
\   'c++': ['clang'],
\   'c': ['clang'],
\   'python': ['pylint'],
\}

" ä¸å¸Œæœ›aleè¿è¡Œé™¤æˆ‘æ˜ç¡®è¦æ±‚çš„å†…å®¹ä»¥å¤–çš„å…¶ä»–å†…å®¹
" æ„Ÿè§‰å¥½åƒæ²¡æœ‰ç”Ÿæ•ˆï¼Œä½†ç›®å‰ä¸å½±å“å…¶ä»–æ’ä»¶ï¼Œå…ˆè¿™ä¹ˆæ”¾ç€å§
" let g:ale_linters_explicit = 1
"å§‹ç»ˆå¼€å¯æ ‡å¿—åˆ—
let g:ale_sign_column_always = 1
let g:ale_set_highlights = 1
"è‡ªå®šä¹‰errorå’Œwarningå›¾æ ‡
let g:ale_sign_error = 'âœ—'
let g:ale_sign_warning = 'âš¡'
"åœ¨vimè‡ªå¸¦çš„çŠ¶æ€æ ä¸­æ•´åˆale
let g:ale_statusline_format = ['âœ— %d', 'âš¡ %d', 'âœ” OK']
"æ˜¾ç¤ºLinteråç§°,å‡ºé”™æˆ–è­¦å‘Šç­‰ç›¸å…³ä¿¡æ¯
let g:ale_echo_msg_error_str = 'E'
let g:ale_echo_msg_warning_str = 'W'


" let g:ale_echo_msg_format = '[%linter%] %s [%severity%]'

let g:ale_completion_delay = 500
let g:ale_echo_delay = 20
let g:ale_lint_delay = 500
" æŠ¥é”™ä¿¡æ¯æ ¼å¼
let g:ale_echo_msg_format = '[%linter%] %code: %%s'
" ä»¥ä¸‹ä¸¤å¥è§„å®šäº†å¦‚æœåœ¨normalæ¨¡å¼ä¸‹æ–‡ä»¶æ”¹å˜åŠä»¥åŠç¦»å¼€insertæ¨¡å¼æ‰è¿è¡Œlinter
" è¿™æ˜¯ç›¸å¯¹ä¿å®ˆçš„åšæ³•ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œä¼šå¯¼è‡´YCMçš„è¡¥å…¨æ¡†é¢‘ç¹çš„åˆ·æ–°
let g:ale_lint_on_text_changed = 'normal'
let g:ale_lint_on_insert_leave = 1

" æˆ‘æŠŠYCMçš„é”™è¯¯æ£€æµ‹æç¤ºæ ‡å¿—å…³äº†ï¼Œä¸ç„¶è¿™ä¸¤ä¸ªå“ªä¸ªåœ¨åé¢å“ªä¸ªç”Ÿæ•ˆ
" let g:airline#extensions#ale#enabled = 1
" è¿™é‡Œå°±æ˜¯ä¼ ç»™ç¼–è¯‘å™¨çš„å‚æ•°
" è¿™é‡Œéœ€è¦æ ¹æ®æ¯ä¸ªé¡¹ç›®çš„ä¸åŒå»ä¿®æ”¹å®ƒçš„å¼•ç”¨å¤´æ–‡ä»¶åŠå®å®šä¹‰

" CentOS6.10å†…æ ¸ç¼–è¯‘å‚æ•°
" æš‚æ—¶ä¸çŸ¥é“æ€ä¹ˆæ¢è¡Œ
let g:ale_c_cc_options = ''

" let g:ale_cpp_cc_options = '-Wall -std=c++11'
" checkç”¨äººå®¶é»˜è®¤çš„å°±å¯ä»¥äº† '--enable=style' ä¸çŸ¥é“æ˜¯ä»€ä¹ˆ
" let g:ale_c_cppcheck_options = ''
" let g:ale_cpp_cppcheck_options = ''

hi! clear SpellBad
hi! clear SpellCap
hi! clear SpellRare
hi! SpellBad gui=undercurl guisp=red
hi! SpellCap gui=undercurl guisp=blue
hi! SpellRare gui=undercurl guisp=magenta

" æŸ¥çœ‹æŠ¥é”™ä¿¡æ¯
noremap <Leader>d :ALEDetail<CR>


" åˆ›å»ºä¸€ä¸ªå‡½æ•°ç”¨æ¥é€‰æ‹©cc_options
function! SelectCcOptions()

let g:CcOptionsCollection = [
\ {'2.6.32-754' : '-I. -std=c99
\ -IS:\\usr\\src\\kernels\\2.6.32-754.el6.x86_64\\include 
\ -IS:\\usr\\src\\kernels\\2.6.32-754.el6.x86_64\\arch\\x86\\include 
\ -DMODULE -D__KERNEL__ -D__GNUC__=4 -DCONFIG_64BIT',},
\ {'UOSV21-5.4.50' : '-I. -std=c99
\ -IQ:\\usr\\src\\linux-headers-5.4.50-amd64-desktop\\include
\ -IQ:\\usr\\src\\linux-headers-5.4.50-amd64-desktop\\arch\\x86\\include
\ -DMODULE -D__KERNEL__ -D__GNUC__=8 -DCONFIG_64BIT'},
\ {'Windows Driver Kits v8.1' : '-I. -std=c99
\ -IE:\\WindowsKits\\8.1\\Include\\km\\crt
\ -IE:\\WindowsKits\\8.1\\Include\\km
\ -IE:\\WindowsKits\\8.1\\Include\\shared
\ -D_WIN64 -D_AMD64_ -DAMD64 -DDEPRECATE_DDK_FUNCTIONS=1 -DMSC_NOOPT
\ -D_WIN32_WINNT=0x0601 -DWINVER=0x0601 -DWINNT=1 -DNTDDI_VERSION=0x06010000'},
\ ]

	" echo len(g:CcOptionsCollection)

	let i = 0
	let selectList = []
	while i < len(g:CcOptionsCollection)
		" echo i
		let tempDict = get(g:CcOptionsCollection, i, "")
		echo string(i) . ":" . string(keys(tempDict))
		let i += 1
		call add(selectList, string(keys(tempDict)))
	endwhile
	
	echo "Input Your Select:"
	
	" let userSelect = inputlist(selectList)
	" echo userSelect
	
	let userInput = getchar()
	echo nr2char(userInput)
	
	let tempDict = get(g:CcOptionsCollection, nr2char(userInput), {"NONE" : ""})
	
	if keys(tempDict)[0] == "NONE"
		let g:CurrentCcOptions = ''
	else
		let g:CurrentCcOptions = values(tempDict)[0]
	endif
	
	echo g:CurrentCcOptions
	
	" echo g:CcOptionsCollection
	
	let g:ale_c_cc_options = g:CurrentCcOptions
	
	" é‡æ–°è½½å…¥æ‰“å¼€çš„æ–‡ä»¶
	bufdo e

endfunction

function! GetCcOptions()
	echo g:ale_c_cc_options
endfunction

" ale select sdk
noremap <leader>ss : call SelectCcOptions()<CR>

" ale show current sdk
noremap <leader>gs : call GetCcOptions()<CR>

" dense-analysis/ale åŠ¨æ€æ£€æŸ¥å·¥å…· é…ç½®============================================================= ]



" [ scrooloose/nerdcommenter æ³¨é‡Šæ’ä»¶ é…ç½®=============================================================

" scrooloose/nerdcommenter æ³¨é‡Šæ’ä»¶ é…ç½®
" [count]<leader>cc |NERDCommenterComment|
" Comment out the current line or text selected in visual mode.
" 
" [count]<leader>cn |NERDCommenterNested|
" Same as cc but forces nesting.
" 
" [count]<leader>c<space> |NERDCommenterToggle|
" Toggles the comment state of the selected line(s). If the topmost selected line is commented, all selected lines are uncommented and vice versa.
" 
" [count]<leader>cm |NERDCommenterMinimal|
" Comments the given lines using only one set of multipart delimiters.
" 
" [count]<leader>ci |NERDCommenterInvert|
" Toggles the comment state of the selected line(s) individually.
" 
" [count]<leader>cs |NERDCommenterSexy|
" Comments out the selected lines with a pretty block formatted layout.
" 
" [count]<leader>cy |NERDCommenterYank|
" Same as cc except that the commented line(s) are yanked first.

" Create default mappings
let g:NERDCreateDefaultMappings = 1

" Add spaces after comment delimiters by default
let g:NERDSpaceDelims = 1

" Use compact syntax for prettified multi-line comments
let g:NERDCompactSexyComs = 1

" Align line-wise comment delimiters flush left instead of following code indentation
let g:NERDDefaultAlign = 'left'

" Set a language to use its alternate delimiters by default
let g:NERDAltDelims_java = 1

" Add your own custom formats or override the defaults
let g:NERDCustomDelimiters = { 'c': { 'left': '/**','right': '*/' } }

" Allow commenting and inverting empty lines (useful when commenting a region)
let g:NERDCommentEmptyLines = 1

" Enable trimming of trailing whitespace when uncommenting
let g:NERDTrimTrailingWhitespace = 1

" Enable NERDCommenterToggle to check all selected lines is commented or not 
let g:NERDToggleCheckAllLines = 1

" scrooloose/nerdcommenter æ³¨é‡Šæ’ä»¶ é…ç½®============================================================= ]



" [ babaybus/DoxygenToolkit.vim å‡½æ•°æ³¨é‡Šæ’ä»¶ é…ç½®=============================================================
let g:DoxygenToolkit_briefTag_funcName = "yes"
" for C++ style, change the '@' to '\'
" default C++ comments are : /** ... */. But if you prefer to use ///
" Doxygen comments just add 'let g:DoxygenToolkit_commentType = "C++"'
" let g:DoxygenToolkit_commentType = "C++"
let g:DoxygenToolkit_briefTag_pre = "\\brief "
let g:DoxygenToolkit_templateParamTag_pre = "\\tparam "
let g:DoxygenToolkit_paramTag_pre = "\\param "
let g:DoxygenToolkit_returnTag = "\\return "
let g:DoxygenToolkit_throwTag_pre = "\\throw " " @exception is also valid
let g:DoxygenToolkit_fileTag = "\\file "
let g:DoxygenToolkit_dateTag = "\\date "
let g:DoxygenToolkit_authorTag = "\\author "
let g:DoxygenToolkit_versionTag = "\\version "
let g:DoxygenToolkit_blockTag = "\\name "
let g:DoxygenToolkit_classTag = "\\class "
let g:DoxygenToolkit_authorName = "Qian Gu, guqian110@gmail.com"
let g:doxygen_enhanced_color = 1
" babaybus/DoxygenToolkit.vim å‡½æ•°æ³¨é‡Šæ’ä»¶ é…ç½®============================================================= ]



" [ preservim/nerdtree ç›®å½•æ ‘æ’ä»¶ é…ç½®=============================================================
noremap <silent> <F5> :NERDTreeToggle<CR>            " F5 å¼€å…³ç›®å½•æ ‘
" open NERDTree automatically when Vim starts
" Start NERDTree and put the cursor back in the other window.
autocmd VimEnter * NERDTree | wincmd p
" preservim/nerdtree ç›®å½•æ ‘æ’ä»¶ é…ç½®============================================================= ]



" [ YouCompleteMe é…ç½®=============================================================
"You Complete Me ç¼–è¯‘
"éœ€è¦å®‰è£…vimå¯¹åº”ç‰ˆæœ¬çš„pythonï¼ŒæŸ¥çœ‹æ–¹å¼ä¸ºï¼š :version
"å®‰è£… VS2017 æˆ–è€… VS2015
"ä¸‹è½½YCMæ’ä»¶æºç åï¼Œå¦‚ä¸‹å‘½ä»¤ç¼–è¯‘æ’ä»¶ï¼š
"python install.py --clang-completer --msvc 16

"æ­¤å¤„æ˜¯å…¨å±€é…ç½®æ–‡ä»¶è·¯å¾„
let g:ycm_global_ycm_extra_conf = '$VIMRUNTIME/../.ycm_extra_conf.py'
"å…³é—­æ¯æ¬¡å¯¼å…¥é…ç½®æ–‡ä»¶å‰çš„è¯¢é—®
let g:ycm_confirm_extra_conf = 0
" "let g:syntastic_always_populate_loc_list = 1 										"æ–¹ä¾¿ä½¿ç”¨syntasticè¿›è¡Œè¯­æ³•æ£€æŸ¥
"å¼€å¯è¯­æ³•å…³é”®å­—è¡¥å…¨
let g:ycm_seed_identifiers_with_syntax=1
"å…³é—­è¡¥å…¨é¢„è§ˆ
let g:ycm_add_preview_to_completeopt=0
let g:ycm_seed_identifiers_with_syntax = 1											"æ ‡è¯†ç¬¦ç§å­
let g:ycm_min_num_of_chars_for_completion = 1										"å½“æŒ‰ä¸€ä¸ªå­—ç¬¦ä¹‹åå¼€å§‹æç¤º
let g:ycm_semantic_triggers =  {
			\ 'c,cpp,python,java,go,erlang,perl': ['re!\w{2}'],
			\ 'cs,lua,javascript': ['re!\w{2}'],
			\ }																		"è¯­ä¹‰è¡¥å…¨
" è¡¥å…¨å†…å®¹ä¸ä»¥åˆ†å‰²å­çª—å£å½¢å¼å‡ºç°ï¼Œåªæ˜¾ç¤ºè¡¥å…¨åˆ—è¡¨
set completeopt-=preview
"ä¿®æ”¹æç¤ºæ¡†é¢œè‰²
highlight PMenu ctermfg=0 ctermbg=242 guifg=black guibg=darkgrey
highlight PMenuSel ctermfg=242 ctermbg=8 guifg=darkgrey guibg=black		
" ä¸ºäº†ä½¿ç”¨aleè¯­æ³•æ£€æŸ¥ï¼Œè¦æŠŠycmçš„è¯­æ³•æ£€æŸ¥å…³é—­
"disable ycm è¯­æ³•æ£€æŸ¥
" è¿™é‡Œå…³é—­ä¹‹åï¼Œä¸‹é¢çš„é”™è¯¯æç¤ºä¹Ÿå°±æ²¡ç”¨äº†"
let g:ycm_enable_diagnostic_signs = 0
let g:ycm_enable_diagnostic_highlighting = 0		
" é”™è¯¯æ ‡è®°
let g:ycm_error_symbol = 'âœ—'  "set error or warning signs
" warningæ ‡è®°
let g:ycm_warning_symbol = 'âš¡'	"âš 

" "highlight YcmErrorSign       æ ‡è®°é¢œè‰²
" "highlight YcmWarningSign ctermbg=none
" "highlight YcmErrorSection      ä»£ç ä¸­å‡ºé”™å­—æ®µé¢œè‰²
" highlight YcmWarningSection ctermbg=none
" "highlight YcmErrorLine        å‡ºé”™è¡Œé¢œè‰²
" "highlight YcmWarningLine
 
" " è·³è½¬å¿«æ·é”®
nnoremap <c-k> :YcmCompleter GoToDeclaration<CR>|
nnoremap <c-h> :YcmCompleter GoToDefinition<CR>| 
nnoremap <c-j> :YcmCompleter GoToDefinitionElseDeclaration<CR>|
" YouCompleteMe é…ç½®============================================================= ]


 
" source $VIMRUNTIME/cscope_maps.vim
" 
" " gutentags é…ç½®========================================================
" " gutentags æœç´¢å·¥ç¨‹ç›®å½•çš„æ ‡å¿—ï¼Œå½“å‰æ–‡ä»¶è·¯å¾„å‘ä¸Šé€’å½’ç›´åˆ°ç¢°åˆ°è¿™äº›æ–‡ä»¶/ç›®å½•å
" let g:gutentags_project_root = ['.root', '.svn', '.git', '.hg', '.project']
" 
" " æ‰€ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶çš„åç§°
" let g:gutentags_ctags_tagfile = '.tags'
" 
" " åŒæ—¶å¼€å¯ ctags å’Œ gtags æ”¯æŒï¼š
" let g:gutentags_modules = []
" if executable('ctags')
" 	let g:gutentags_modules += ['ctags']
" endif
" if executable('gtags-cscope') && executable('gtags')
" 	let g:gutentags_modules += ['gtags_cscope']
" endif
" 
" " å°†è‡ªåŠ¨ç”Ÿæˆçš„ ctags/gtags æ–‡ä»¶å…¨éƒ¨æ”¾å…¥ ~/.cache/tags ç›®å½•ä¸­ï¼Œé¿å…æ±¡æŸ“å·¥ç¨‹ç›®å½•
" let g:gutentags_cache_dir = expand('~/.cache/tags')
" 
" " é…ç½® ctags çš„å‚æ•°
" let g:gutentags_ctags_extra_args = ['--fields=+niazS', '--extra=+q']
" let g:gutentags_ctags_extra_args += ['--c++-kinds=+px']
" let g:gutentags_ctags_extra_args += ['--c-kinds=+px']
" 
" " å¦‚æœä½¿ç”¨ universal ctags éœ€è¦å¢åŠ ä¸‹é¢ä¸€è¡Œ
" let g:gutentags_ctags_extra_args += ['--output-format=e-ctags']
" 
" " ç¦ç”¨ gutentags è‡ªåŠ¨åŠ è½½ gtags æ•°æ®åº“çš„è¡Œä¸º
" let g:gutentags_auto_add_gtags_cscope = 0
" " gutentags é…ç½®========================================================
" 
" " Gtags é…ç½®========================================================
" let $GTAGSLABEL = 'native-pygments'
" let $GTAGSCONF = 'D:/Program Files (x86)/Vim/extends/gtags/share/gtags/gtags.conf'
" " cscope
" set cscopetag                  " ä½¿ç”¨ cscope ä½œä¸º tags å‘½ä»¤
" set cscopeprg=gtags-cscope   " ä½¿ç”¨ gtags-cscope ä»£æ›¿ cscope
" 
" " gtags
" let GtagsCscope_Auto_Load = 1
" let CtagsCscope_Auto_Map = 1
" let GtagsCscope_Quiet = 1
" " Gtags é…ç½®========================================================



" [ Yggdroot/LeaderF æ¨¡ç³Šæœç´¢æ’ä»¶ é…ç½®=============================================================

" æ­¤æ’ä»¶éœ€è¦ GNU GLOBAL(gtags) çš„é…åˆ
" Windowsä¸‹è½½åœ°å€ https://www.gnu.org/software/global/download.html
" æ­£åˆ™è¡¨è¾¾å¼/å­—ç¬¦ä¸²æ£€ç´¢ Leaderf rg ...
" ripgrepä¸‹è½½åœ°å€ https://github.com/BurntSushi/ripgrep/releases
" éœ€è¦å®‰è£…ctags
" ä¸‹è½½åœ°å€ https://github.com/universal-ctags/ctags-win32/releases
" ä»¥ä¸Šå®‰è£…åï¼Œå‡éœ€è¦åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­
" ä»¥ä¸‹æ˜¯é»˜è®¤çš„é…ç½®
" don't show the help in normal mode
let g:Lf_HideHelp = 1
let g:Lf_UseCache = 0
let g:Lf_UseVersionControlTool = 0
let g:Lf_IgnoreCurrentBufferName = 1

" æ°”æ³¡æ¨¡å¼ï¼Œå°±æ˜¯åœ¨çª—å£ä¸­å¤®å¼¹å‡ºä¸€ä¸ªçª—å£
" popup mode
let g:Lf_WindowPosition = 'popup'
let g:Lf_PreviewInPopup = 1
" let g:Lf_StlSeparator = { 'left': "\ue0b0", 'right': "\ue0b2", 'font': "DejaVu Sans Mono for Powerline" }
" let g:Lf_PreviewResult = {'Function': 0, 'BufTag': 0 }

" ä½¿ç”¨ ctrl + p æŸ¥æ‰¾æ–‡ä»¶
let g:Lf_ShortcutF = '<c-p>'

" é”®ç›˜æ˜ å°„
" ç”±äºleaderfæ˜ å°„äº† ctrl-få’Œctrl-bï¼Œæ‰€ä»¥ä¸Šä¸‹ç¿»é¡µä½¿ç”¨ctrl-då’Œctrl-u
" noremap å¯åœ¨ æ™®é€šã€å¯è§†ã€é€‰æ‹©ã€æ“ä½œç¬¦ç­‰å¾… ä¸‹å·¥ä½œ
" CTRL-U ä½¿çª—å£åœ¨ç¼“å†²åŒºä¸­å‘ä¸Šæ»šåŠ¨ã€‚æ»šåŠ¨çš„è¡Œæ•°ç”± 'scroll' é€‰é¡¹æŒ‡å®š (é»˜è®¤è®¾ç½®ä¸ºåŠä¸ªå±å¹•)
" CTRL-R é‡åš [count] æ¬¡è¢«æ’¤é”€çš„æ›´æ”¹ã€‚
noremap <leader>fb :<C-U><C-R>=printf("Leaderf buffer %s", "")<CR><CR>
noremap <leader>fm :<C-U><C-R>=printf("Leaderf mru %s", "")<CR><CR>
noremap <leader>ft :<C-U><C-R>=printf("Leaderf bufTag %s", "")<CR><CR>
noremap <leader>fl :<C-U><C-R>=printf("Leaderf line %s", "")<CR><CR>

noremap <C-B> :<C-U><C-R>=printf("Leaderf! rg --current-buffer -e %s ", expand("<cword>"))<CR>

" ä½¿ç”¨rgè¿›è¡ŒæŸ¥æ‰¾
" expand("<cword>") æ˜¯å–å½“å‰å…‰æ ‡ä¸‹çš„å•è¯
noremap <C-F> :<C-U><C-R>=printf("Leaderf! rg -e %s ", expand("<cword>"))<CR>
" search visually selected text literally
xnoremap gf :<C-U><C-R>=printf("Leaderf! rg -F -e %s ", leaderf#Rg#visual())<CR>
noremap go :<C-U>Leaderf! rg --recall<CR>

" gtags æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨$HOME/.LfCache/gtags/%PATH%OF%YOUR%PROJECT/
" should use `Leaderf gtags --update` first
" gtagsæ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ
" å½“ä»£ç æœ‰æ›´æ”¹å¹¶ä¸”å·²ç»æœ‰ gtags æ•°æ®åº“ç”Ÿæˆæ—¶ï¼Œæ›´æ”¹çš„ä»£ç ä¼šè‡ªåŠ¨åŒæ­¥åˆ° gtags æ•°æ®åº“ï¼ˆå³ä½¿g:Lf_GtagsAutoGenerateæ˜¯0ï¼‰
" åªæœ‰åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰g:Lf_RootMarkersï¼ˆé»˜è®¤å€¼æ˜¯['.git', '.hg', '.svn']ï¼‰é‡Œé¢æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•æ—¶ï¼ŒLeaderF æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆ gtags æ•°æ®åº“ï¼›
" å¦åˆ™åªèƒ½æ‰‹åŠ¨ç”Ÿæˆ gtags æ•°æ®åº“ï¼šLeaderf gtags --updateï¼Œä½†æ˜¯å½“ä»£ç æœ‰æ›´æ”¹æ—¶ï¼Œgtags æ•°æ®åº“ä¾ç„¶å¯ä»¥è‡ªåŠ¨æ›´æ–°ã€‚
" ç”¨æ¥æŒ‡å®š gtags.conf æ–‡ä»¶çš„è·¯å¾„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦æŒ‡å®šï¼Œé»˜è®¤å€¼å°±å¯ä»¥å¾ˆå¥½åœ°å·¥ä½œã€‚
" å¯¹äºWindowsä¸Šï¼Œå¦‚æœç›¸å¯¹äºgtags.exeæ‰€åœ¨è·¯å¾„æœ‰../share/gtags/gtags.confï¼Œä¹Ÿä¸éœ€è¦æŒ‡å®šè¯¥é€‰é¡¹ã€‚
" å¦‚æœéœ€è¦ç”¨æˆ·è‡ªå·±ç‰¹æœ‰çš„é’ˆå¯¹ gtags çš„é…ç½®ï¼Œå¯ä»¥æŒ‡å®šç”¨æˆ·çš„é…ç½®æ–‡ä»¶ã€‚
" ä¹Ÿå¯ä»¥åœ¨vimrcé‡Œè®¾ç½®g:Lf_Gtagsconfè¾¾åˆ°åŒæ ·çš„ç›®çš„
" éœ€è¦æŠŠ gtags.exeçš„æ‰€åœ¨è·¯å¾„åŠ å…¥ç¯å¢ƒå˜é‡ D:\Vim\plugged\glo665wb\bin
" é”™è¯¯ä¿¡æ¯æŸ¥çœ‹ :mess
" å½“å‡ºç° gtags seems corrupted æ—¶ï¼Œå¯èƒ½æ˜¯tagsç”Ÿæˆç›®å½•æœ‰æ–‡ä»¶ï¼Œå…ˆåˆ é™¤äº†ï¼Œå†é‡æ–°ç”Ÿæˆ
let g:Lf_GtagsAutoGenerate = 1
" let g:Lf_Gtagsconf = '$VIMRUNTIME/../plugged/glo665wb/share/gtags/gtags.conf'

" å¼€å¯æ­¤åŠŸèƒ½æ—¶ï¼Œéœ€è¦pythonå®‰è£…ä»¥ä¸‹æ¨¡å—
" pip install pygments
let g:Lf_Gtagslabel = 'native-pygments'

" æŸ¥æ‰¾å¼•ç”¨
noremap <leader>fr :<C-U><C-R>=printf("Leaderf! gtags -r %s --auto-jump", expand("<cword>"))<CR><CR>
" æŸ¥æ‰¾å®šä¹‰
noremap <leader>fd :<C-U><C-R>=printf("Leaderf! gtags -d %s --auto-jump", expand("<cword>"))<CR><CR>
" å†æ¬¡è°ƒç”¨åˆšæ‰çš„å‘½ä»¤
noremap <leader>fo :<C-U><C-R>=printf("Leaderf! gtags --recall %s", "")<CR><CR>
" è·³è½¬åˆ°ä¸‹ä¸€ä¸ªtag
noremap <leader>fn :<C-U><C-R>=printf("Leaderf gtags --next %s", "")<CR><CR>
" è·³è½¬åˆ°ä¸Šä¸€ä¸ªtag
noremap <leader>fp :<C-U><C-R>=printf("Leaderf gtags --previous %s", "")<CR><CR>

" F2æ˜¾ç¤ºå‡ºå½“å‰æ–‡ä»¶çš„å‡½æ•°åˆ—è¡¨
noremap <F2> :LeaderfFunction!<cr>           

" Yggdroot/LeaderF æ¨¡ç³Šæœç´¢æ’ä»¶ é…ç½®============================================================= ]


" [ vim-airline/vim-airline çŠ¶æ€æ æ’ä»¶ é…ç½®=============================================================
" vim-airline/vim-airline çŠ¶æ€æ æ’ä»¶ é…ç½®
" é»˜è®¤åªæœ‰ä¸‹é¢çš„çŠ¶æ€æ 
" åœ¨ä¸Šé¢æ˜¾ç¤ºbuffer/tabç›¸å…³çŠ¶æ€æ  smart tab line å¼€å¯
let g:airline#extensions#tabline#enabled = 1

" é»˜è®¤æ˜¾ç¤ºçš„æ˜¯å‚ç›´åˆ†éš”çš„
" è¿™é‡Œæ˜¯å¦ç”Ÿæ•ˆè¿˜è¦é€šè¿‡ä¸‹é¢çš„å®‰è£…å­—ä½“æ‰å¯ä»¥
" è¦ä½¿ç”¨ç®­å¤´æ ·å¼éœ€è¦æ‰“å¼€powerline
" ä¸€èˆ¬ä½¿ç”¨Source Code Pro
let g:airline_powerline_fonts = 1

" è‡ªå®šä¹‰å­—ç¬¦
" if !exists('g:airline_symbols')
"   let g:airline_symbols = {}
" endif
" 
" " unicode symbols
" let g:airline_left_sep = 'Â»'
" let g:airline_left_sep = 'â–¶'
" let g:airline_right_sep = 'Â«'
" let g:airline_right_sep = 'â—€'
" let g:airline_symbols.crypt = 'ğŸ”’'
" let g:airline_symbols.linenr = 'â˜°'
" let g:airline_symbols.linenr = 'âŠ'
" let g:airline_symbols.linenr = 'â¤'
" let g:airline_symbols.linenr = 'Â¶'
" let g:airline_symbols.maxlinenr = ''
" let g:airline_symbols.maxlinenr = 'ã‘'
" let g:airline_symbols.branch = 'â‡'
" let g:airline_symbols.paste = 'Ï'
" let g:airline_symbols.paste = 'Ã'
" let g:airline_symbols.paste = 'âˆ¥'
" let g:airline_symbols.spell = 'ê¨'
" let g:airline_symbols.notexists = 'É†'
" let g:airline_symbols.whitespace = 'Î'
" vim-airline/vim-airline çŠ¶æ€æ æ’ä»¶ é…ç½®============================================================= ]


" [ è‡ªå®šä¹‰åŠŸèƒ½é…ç½®=============================================================

" æ‰“å¼€è‡ªå·±å†™çš„å¸¸ç”¨çš„vimå¿«æ·é”®
let g:helpTxtOpened = 0
function OpenMyHelpTxtToggle()
"	echo g:helpTxtOpened
"	let g:helpTxtOpened = bufexists('C:\\Users\\CHM\\OneDrive\\å·¥ä½œ\\å¸¸ç”¨\\vimå¿«æ·é”®.txt')
"	let g:helpTxtOpened = execute "ls"
"	echo g:helpTxtOpened
	if g:helpTxtOpened == 1
		:bd C:\\Users\\CHM\\OneDrive\\å·¥ä½œ\\å¸¸ç”¨\\vimå¿«æ·é”®.txt
		let g:helpTxtOpened = 0
	else
		:vsp C:\\Users\\CHM\\OneDrive\\å·¥ä½œ\\å¸¸ç”¨\\vimå¿«æ·é”®.txt
		execute "normal \<C-W>\<S-L>"
		:vertical resize -20
		let g:helpTxtOpened = 1
	endif
endfunction
" noremap <F1> :call OpenMyHelpTxt()<cr><C-W><S-L><CR>:vertical resize -20<CR>
noremap <F1> :call OpenMyHelpTxtToggle()<cr>

" è‡ªå®šä¹‰åŠŸèƒ½é…ç½®============================================================= ]

" ====================================================================
" ä¸‹è½½å­—ä½“
" https://github.com/adobe-fonts/source-code-pro/releases
" è®¾ç½®å­—ä½“
if has("gui_running")
	if has("gui_gtk2")
		set guifont=Inconsolata\ 12
    elseif has("gui_macvim")
		set guifont=Menlo\ Regular:h14
	elseif has("gui_win32")
		" set guifont=Consolas:h12:cANSI
		set guifont=Source\ Code\ Pro:h11:cANSI
    endif
endif
" " ====================================================================



" " çª—å£é€æ˜åº¦ é…ç½®========================================================
" if has('gui_running') && has('libcall')
" 	let g:MyVimLib = $VIMRUNTIME.'/gvimfullscreen.dll'
" 	function ToggleFullScreen()
" 		call libcallnr(g:MyVimLib, "ToggleFullScreen", 0)
" 	endfunction
"     
" 	"Alt+Enter
" 	map <A-Enter> <Esc>:call ToggleFullScreen()<CR>
" 
" 	let g:VimAlpha = 240
" 	function! SetAlpha(alpha)
" 		let g:VimAlpha = g:VimAlpha + a:alpha
" 		if g:VimAlpha < 180
" 			let g:VimAlpha = 180
" 		endif
" 		if g:VimAlpha > 255
" 			let g:VimAlpha = 255
" 		endif
" 		call libcall(g:MyVimLib, 'SetAlpha', g:VimAlpha)
" 	endfunction
"     
" 	"Shift+Y
" 	nmap <s-y> <Esc>:call SetAlpha(3)<CR>
" 	"Shift+T
" 	nmap <s-t> <Esc>:call SetAlpha(-3)<CR>
" 
" 	function! SwitchVimAlpha()
" 		if g:VimAlpha != 180
" 			let g:VimAlpha = 180
" 		else
" 			let g:VimAlpha = 255
" 		endif
" 		call libcall(g:MyVimLib, 'SetAlpha', g:VimAlpha)
" 	endfunction
" 	" F8
" 	map <F8> :call SwitchVimAlpha()<CR>
" 
" 	let g:VimTopMost = 0
" 	function! SwitchVimTopMostMode()
" 		if g:VimTopMost == 0
" 			let g:VimTopMost = 1
" 		else
" 			let g:VimTopMost = 0
" 		endif
" 		call libcall(g:MyVimLib, 'EnableTopMost', g:VimTopMost)
" 	endfunction
"     
" 	"Shift+R
" 	nmap <s-r> <Esc>:call SwitchVimTopMostMode()<CR>
" endif

" çª—å£é€æ˜åº¦ é…ç½®========================================================




